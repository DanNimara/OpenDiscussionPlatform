@model OpenDiscussionPlatform.Models.Subject

<h1>Afisare subiect</h1>


<a class="btn btn-primary pull-left" href="/Categories/Show/@Model.CategoryID">Inapoi la subiecte</a>
<br />
<br />

<div class="panel panel-default">
    <div class="panel-heading">@Model.Title</div>
    <div class="panel-body">
        @Model.Content
        <br />
        <hr />
        <a class="btn btn-warning pull-left" href="/Subjects/Edit/@Model.SubjectID">Editeaza subiect</a>


        <form method="post" action="/Subjects/Delete/@Model.SubjectID">
            @Html.HttpMethodOverride(HttpVerbs.Delete)
            <button class="btn btn-danger pull-right" type="submit">Sterge subiect</button>
        </form>
    </div>
</div>

@if (ViewBag.Message != null)
{
    @:<div class="alert alert-info" role="alert">
        @ViewBag.Message
    @:</div>
}

@foreach (var reply in Model.Replies)
{
    <div class="panel panel-default">
        <div class="panel-body">
            @reply.Content
            <div class="pull-right"><small>@reply.Date</small></div>
            <br />
        </div>
        <div class="panel-footer">
            <a class="btn btn-success btn-sm" href="/Replies/Edit/@reply.ReplyID">Editeaza comentariu</a>
            <form method="post" class="pull-right" action="/Replies/Delete/@reply.ReplyID">
                @Html.HttpMethodOverride(HttpVerbs.Delete)
                <button class="btn btn-danger btn-sm" type="submit">Sterge comentariu</button>
            </form>
        </div>
    </div>
}

<form method="post" action="/Replies/New/@Model.SubjectID">
    <div class="panel-body">
        <input type="hidden" name="SubjectID" value="@Model.SubjectID" />
        <label>Continut comentariu</label>
        <br />
        <textarea class="form-control" name="Content"></textarea>
        <br />
        <button class="btn btn-success " type="submit">Adauga comentariu</button>
    </div>
</form>

